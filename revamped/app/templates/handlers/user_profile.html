{% extends "profiles/user_dashboard_base.html" %}

{% block title %}
User Profile
{% endblock title %}

{%block content %}
{{ moment.include_moment() }}
<!-- Include Font Awesome CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
<!-- Include Tailwind CSS -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.4/dist/tailwind.min.css" rel="stylesheet">
<div class="flex flex-col md:flex-row items-center pt-10">
	<div class="md:w-1/3 text-center">
		<!-- Display user profile image -->
		{% if user.imageUrl %}
		<img src="{{ url_for('static', filename = 'images/profiles/' + user.imageUrl) }}" alt="Profile Picture" class="w-32 h-32 mx-auto rounded-full mb-4">
		{% else %}
		<img src="{{ user.gravatar(size = 300) }}" alt="Profile Picture" class="w-32 h-32 mx-auto rounded-full mb-4">
		{% endif %}

		<form action="{{ url_for('registration.edit_profile_image', user_id = user.userId) }}" method="POST" enctype="multipart/form-data" class="mb-4">
			<input type="file" id="profile-image" name="profile-image" accept="image/*" class="hidden">
			<label for="profile-image" class="cursor-pointer bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-300 ease-in-out">
				Upload Image
			</label><br>
			<button class="mt-4 text-blue-500 hover:underline">Edit Image</button>
		</form>
	</div>
	<div class="md:w-2/3 md:ml-8 mt-4 md:mt-0">
		<h1 class="text-3xl font-semibold text-gray-800">@{{ user.userName }}</h1>
		<p class="text-lg text-gray-600">Sustainable Waste Management Warrior</p>
		<p class="text-gray-700 mt-4">{{ user.about_me }}</p>
		<div class="flex mt-6 space-x-4">
			<a href = "{{ url_for('registration.edit_user_profile', user_id = user.userId) }}" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600">
				<i class="fas fa-edit text-yellow-400"></i> Edit Profile
			</a>
			<a href = "{{ url_for('registration.edit_user_profile', user_id = user.userId) }}" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600">
				Change UserName
			</a>
			<a href = "{{ url_for('registration.edit_user_profile', user_id = user.userId) }}" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600">
				Change Password
			</a>
			<a href = "{{ url_for('registration.edit_user_profile', user_id = user.userId) }}" class="bg-indigo-500 text-white px-4 py-2 rounded-lg hover:bg-indigo-600">
				Change Email
			</a>
		</div>
	</div>
</div>
<hr class="my-8">
<!-- Contact Information -->
<div class="mt-8 bg-white rounded-lg p-6 shadow-md">
	<h2 class="text-2xl font-semibold text-gray-800 mb-4">Contact Information</h2>
	<div class="flex items-start mb-4">
		<div class="text-purple-600 mt-1">
			<i class="fas fa-envelope fa-lg"></i>
		</div>
		<div class="ml-4">
			<p class="text-gray-700 text-lg"><strong>Email:</strong> {{ user.emailAddress }}</p>
		</div>
	</div>
	<div class="flex items-start mb-4">
		<div class="text-blue-600 mt-1">
			<i class="fas fa-phone-alt fa-lg"></i>
		</div>
		<div class="ml-4">
			<p class="text-gray-700 text-lg"><strong>Phone Number:</strong> {{ user.phoneNumber }}</p>
		</div>
	</div>
	<div class="flex items-start">
		<div class="text-green-600 mt-1">
			<i class="fas fa-map-marker-alt fa-lg"></i>
		</div>
		<div class="ml-4">
			<p class="text-gray-700 text-lg"><strong>Location:</strong> {{ user.locationAddress }}</p>
		</div>
	</div>
</div>

<hr class="my-8">

<!-- Personal Information -->
<div class="mt-4 bg-white rounded-lg p-6 shadow-md">
	<h2 class="text-2xl font-semibold text-gray-800 mb-4">Personal Information</h2>
	<div class="flex items-start mb-4">
		<div class="text-blue-600 mt-1">
			<i class="fas fa-user fa-lg"></i>
		</div>
		<div class="ml-4">
			<p class="text-gray-700 text-lg"><strong>Name:</strong>
			{{ user.firstName }} {{ user.middleName }} {{ user.lastName }}
			</p>
		</div>
	</div>
	<div class="flex items-start mb-4">
		<div class="text-indigo-600 mt-1">
			<i class="fas fa-venus-mars fa-lg"></i>
		</div>
		<div class="ml-4">
			<p class="text-gray-700 text-lg"><strong>Gender:</strong> {{ user.gender }}</p>
		</div>
	</div>
	<div class="flex items-start mb-4">
		<div class="text-red-600 mt-1">
			<i class="fas fa-birthday-cake fa-lg"></i>
		</div>
		<div class="ml-4">
			<p class="text-gray-700 text-lg"><strong>Member Since:</strong> {{ moment(user.dateCreated).format('LL') }}</p>
		</div>
	</div>
	<div class="flex items-start mb-4">
		<div class="text-yellow-600 mt-1">
			<i class="far fa-clock fa-lg"></i>
		</div>
		<div class="ml-4">
			<p class="text-gray-700 text-lg"><strong>Last Seen:</strong> {{ moment(user.last_seen).fromNow(refresh = True) }}</p>
		</div>
	</div>
</div>
{% endblock content %}
